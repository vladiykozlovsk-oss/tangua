import{b as o,ah as O,m as r,e as g,c as p,F as j,g as _,f as w,n as v,v as z,h as C}from"./B2d9bXMy.js";import{u as k}from"./CB6HEiPZ.js";import"./DgDz-Izd.js";const P="640px",B="960px",S="1280px",F="1520px",I="1605px",K="400px",N="1500px",d={sm:P,md:B,lg:S,xl:F,"2xl":I,xs:K,maxw:N},U={key:0},V=["media","srcset"],A=["src","width","height","loading","alt"],T={__name:"CmPicture",props:{lazy:{type:Boolean,default:!0},imageObject:{type:Object,default:null},crops:{type:Array,default(){return[]}},classes:{type:String,default:""},focalPoint:{type:String,default:""}},setup(n){const{cacheKey:h}=k(),e=n,f=o(()=>e.lazy?"lazy":"eager"),b=o(()=>e.imageObject.alt?e.imageObject.alt:""),x=t=>(d.default="0px",d[t]),i=o(()=>e.crops.filter(t=>{const s=t.split(":").pop();return s==="original"||e.imageObject.sizes[s]})),l=o(()=>i.value.length===0?[m("original")]:i.value.map(t=>m(t))),u=o(()=>{const t=i.value.find(a=>a.includes("default"));let s;return t?s=t:i.value.length===0?s="original":s=i.value[0],m(s)}),m=t=>{const s=t.split(":").shift(),a=t.split(":").pop();let c;if(a==="original"){if(c=e.imageObject&&e.imageObject.hasOwnProperty("url")?e.imageObject.url:e.imageObject&&e.imageObject.hasOwnProperty("source_url")?e.imageObject.source_url:null,!c)return[]}else c=e.imageObject.sizes[a];const{url:y}=O(c,h.value);return{src:y,width:a==="original"?e.imageObject.width:e.imageObject.sizes[a+"-width"],height:a==="original"?e.imageObject.height:e.imageObject.sizes[a+"-height"],media:`(min-width: ${x(s)})`}};return(t,s)=>r(l)&&r(l).length>0?(g(),p("picture",U,[(g(!0),p(j,null,_(r(l).reverse(),a=>(g(),p("source",{media:a.media,srcset:a.src},null,8,V))),256)),w("img",{src:r(u).src,width:r(u).width,height:r(u).height,class:v(n.classes),loading:r(f),alt:r(b),style:z(n.focalPoint?"object-position:"+n.focalPoint+";":"")},null,14,A)])):C("",!0)}};export{T as default};
